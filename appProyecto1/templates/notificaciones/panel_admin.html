{% extends "notificaciones/base.html" %}

{% block content %}
<h2>ðŸ“© Panel de Notificaciones del Administrador</h2>

<!-- BotÃ³n para volver al panel de traducciones -->
<a href="{% url 'translator_page' %}" class="btn-volver">â¬… Volver al inicio</a>

<style>
    /* Estilos de notificaciones */
    .noti-leida {
        background: #e8e8e8;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 6px;
    }

    .noti-nueva {
        background: #d8f3dc;
        padding: 10px;
        margin-bottom: 10px;
        border-radius: 6px;
    }

    .noti-container {
        list-style: none;
        padding: 0;
    }

    .noti-container li {
        display: block;
    }

    .marcar-leida {
        font-size: 0.9em;
        color: #007bff;
        text-decoration: none;
    }

    .marcar-leida:hover {
        text-decoration: underline;
    }

    /* Estilo del botÃ³n volver */
    .btn-volver {
        display: inline-block;
        margin-bottom: 20px;
        padding: 8px 15px;
        background-color: #007bff;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        font-weight: bold;
    }

    .btn-volver:hover {
        background-color: #0056b3;
    }
</style>

{% if notificaciones %}
    <ul class="noti-container">
        {% for n in notificaciones %}
            <li class="{% if n.leida %}noti-leida{% else %}noti-nueva{% endif %}">
                <strong>{{ n.titulo }}</strong><br>
                <span>{{ n.mensaje }}</span><br>
                <small>{{ n.fecha|date:"d/m/Y H:i" }}</small><br>

                {% if not n.leida %}
                    <a class="marcar-leida" href="{% url 'mark_notificacion_read' n.id %}">
                        Marcar como leÃ­da
                    </a>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No tienes notificaciones.</p>
{% endif %}

{% endblock %}
